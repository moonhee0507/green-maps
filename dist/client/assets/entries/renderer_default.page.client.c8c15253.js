import{r as a,R as h,j as o}from"../chunks/chunk-0ad0329c.js";import{r as j,g as P,R}from"../chunks/chunk-da345742.js";import{s as y}from"../chunks/chunk-eb9ca642.js";import{P as w,L as E}from"../chunks/chunk-3c838518.js";import"../chunks/chunk-8da5e704.js";import"../chunks/chunk-a0776c37.js";import"../chunks/chunk-e4242990.js";import"../chunks/chunk-0defb547.js";import"../chunks/chunk-035a7463.js";import"../chunks/chunk-d64dca2b.js";import"../chunks/chunk-4c6e2a54.js";import"../chunks/chunk-371787c9.js";var b={},g,m=j;b.createRoot=m.createRoot,g=b.hydrateRoot=m.hydrateRoot;function L(){const t=P();let r=null,s=null;return{clear(){r=null,s=null},notify(){t(()=>{let e=r;for(;e;)e.callback(),e=e.next})},get(){let e=[],i=r;for(;i;)e.push(i),i=i.next;return e},subscribe(e){let i=!0,n=s={callback:e,next:null,prev:s};return n.prev?n.prev.next=n:r=n,function(){!i||r===null||(i=!1,n.next?n.next.prev=n.prev:s=n.prev,n.prev?n.prev.next=n.next:r=n.next)}}}}const x={notify(){},get:()=>[]};function M(t,r){let s,e=x;function i(S){return d(),e.subscribe(S)}function n(){e.notify()}function u(){l.onStateChange&&l.onStateChange()}function c(){return!!s}function d(){s||(s=r?r.addNestedSub(u):t.subscribe(u),e=L())}function f(){s&&(s(),s=void 0,e.clear(),e=x)}const l={addNestedSub:i,notifyNestedSubs:n,handleChangeWrapper:u,isSubscribed:c,trySubscribe:d,tryUnsubscribe:f,getListeners:()=>e};return l}const N=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",C=N?a.useLayoutEffect:a.useEffect;function v({store:t,context:r,children:s,serverState:e}){const i=a.useMemo(()=>{const c=M(t);return{store:t,subscription:c,getServerState:e?()=>e:void 0}},[t,e]),n=a.useMemo(()=>t.getState(),[t]);C(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),n!==t.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,n]);const u=r||R;return h.createElement(u.Provider,{value:i},s)}function B({children:t,pageContext:r}){return o.jsx(v,{store:y,children:o.jsx(w,{pageContext:r,children:o.jsxs(A,{children:[o.jsx(I,{}),o.jsx(k,{children:t})]})})})}function A({children:t}){return o.jsx("div",{className:"layout",children:t})}function I(){return o.jsx("div",{className:"left-area",children:o.jsxs("div",{className:"txt-intro",children:[o.jsx("strong",{children:"채식 식당 검색과 북마크 서비스"}),o.jsx("h1",{children:o.jsx(E,{href:"/",children:"그린 맵"})})]})})}function k({children:t}){const[r,s]=a.useState(!1),e=a.useRef(null);return a.useEffect(()=>{s(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))},[]),a.useEffect(()=>{if(r){const i=e.current;i!==null&&(i.style.height=window.innerHeight+"px")}},[r]),o.jsx("div",{className:"app",ref:e,children:t})}const J=!0,K=!0;let p;async function Q(t){const{Page:r,pageProps:s,routeParams:e,token:i,user:n,reviews:u,restaurantInfo:c,postId:d}=t,f=o.jsx(h.StrictMode,{children:o.jsx(v,{store:y,children:o.jsx(B,{pageContext:t,children:o.jsx(r,{...s,routeParams:e,token:i,user:n,reviews:u,restaurantInfo:c,postId:d})})})}),l=document.getElementById("page-view");l.innerHTML===""||!t.isHydration?(p||(p=b.createRoot(l)),p.render(f)):p=g(l,f)}export{J as clientRouting,K as hydrationCanBeAborted,Q as render};
