{"version":3,"file":"renderer_default.page.client.d8a5045d.js","sources":["../../../../node_modules/react-dom/client.js","../../../../node_modules/react-redux/es/utils/Subscription.js","../../../../node_modules/react-redux/es/utils/useIsomorphicLayoutEffect.js","../../../../node_modules/react-redux/es/components/Provider.js","../../../../renderer/PageShell.tsx","../../../../renderer/_default.page.client.tsx"],"sourcesContent":["'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","import { getBatch } from './batch'; // encapsulates the subscription logic for connecting a component to the redux store, as\n// well as nesting subscriptions of descendant components, so that we can ensure the\n// ancestor components re-render before descendants\n\nfunction createListenerCollection() {\n  const batch = getBatch();\n  let first = null;\n  let last = null;\n  return {\n    clear() {\n      first = null;\n      last = null;\n    },\n\n    notify() {\n      batch(() => {\n        let listener = first;\n\n        while (listener) {\n          listener.callback();\n          listener = listener.next;\n        }\n      });\n    },\n\n    get() {\n      let listeners = [];\n      let listener = first;\n\n      while (listener) {\n        listeners.push(listener);\n        listener = listener.next;\n      }\n\n      return listeners;\n    },\n\n    subscribe(callback) {\n      let isSubscribed = true;\n      let listener = last = {\n        callback,\n        next: null,\n        prev: last\n      };\n\n      if (listener.prev) {\n        listener.prev.next = listener;\n      } else {\n        first = listener;\n      }\n\n      return function unsubscribe() {\n        if (!isSubscribed || first === null) return;\n        isSubscribed = false;\n\n        if (listener.next) {\n          listener.next.prev = listener.prev;\n        } else {\n          last = listener.prev;\n        }\n\n        if (listener.prev) {\n          listener.prev.next = listener.next;\n        } else {\n          first = listener.next;\n        }\n      };\n    }\n\n  };\n}\n\nconst nullListeners = {\n  notify() {},\n\n  get: () => []\n};\nexport function createSubscription(store, parentSub) {\n  let unsubscribe;\n  let listeners = nullListeners; // Reasons to keep the subscription active\n\n  let subscriptionsAmount = 0; // Is this specific subscription subscribed (or only nested ones?)\n\n  let selfSubscribed = false;\n\n  function addNestedSub(listener) {\n    trySubscribe();\n    const cleanupListener = listeners.subscribe(listener); // cleanup nested sub\n\n    let removed = false;\n    return () => {\n      if (!removed) {\n        removed = true;\n        cleanupListener();\n        tryUnsubscribe();\n      }\n    };\n  }\n\n  function notifyNestedSubs() {\n    listeners.notify();\n  }\n\n  function handleChangeWrapper() {\n    if (subscription.onStateChange) {\n      subscription.onStateChange();\n    }\n  }\n\n  function isSubscribed() {\n    return selfSubscribed;\n  }\n\n  function trySubscribe() {\n    subscriptionsAmount++;\n\n    if (!unsubscribe) {\n      unsubscribe = parentSub ? parentSub.addNestedSub(handleChangeWrapper) : store.subscribe(handleChangeWrapper);\n      listeners = createListenerCollection();\n    }\n  }\n\n  function tryUnsubscribe() {\n    subscriptionsAmount--;\n\n    if (unsubscribe && subscriptionsAmount === 0) {\n      unsubscribe();\n      unsubscribe = undefined;\n      listeners.clear();\n      listeners = nullListeners;\n    }\n  }\n\n  function trySubscribeSelf() {\n    if (!selfSubscribed) {\n      selfSubscribed = true;\n      trySubscribe();\n    }\n  }\n\n  function tryUnsubscribeSelf() {\n    if (selfSubscribed) {\n      selfSubscribed = false;\n      tryUnsubscribe();\n    }\n  }\n\n  const subscription = {\n    addNestedSub,\n    notifyNestedSubs,\n    handleChangeWrapper,\n    isSubscribed,\n    trySubscribe: trySubscribeSelf,\n    tryUnsubscribe: tryUnsubscribeSelf,\n    getListeners: () => listeners\n  };\n  return subscription;\n}","import * as React from 'react'; // React currently throws a warning when using useLayoutEffect on the server.\n// To get around it, we can conditionally useEffect on the server (no-op) and\n// useLayoutEffect in the browser. We need useLayoutEffect to ensure the store\n// subscription callback always has the selector from the latest render commit\n// available, otherwise a store update may happen between render and the effect,\n// which may cause missed updates; we also must ensure the store subscription\n// is created synchronously, otherwise a store update may occur before the\n// subscription is created and an inconsistent state may be observed\n// Matches logic in React's `shared/ExecutionEnvironment` file\n\nexport const canUseDOM = !!(typeof window !== 'undefined' && typeof window.document !== 'undefined' && typeof window.document.createElement !== 'undefined');\nexport const useIsomorphicLayoutEffect = canUseDOM ? React.useLayoutEffect : React.useEffect;","import * as React from 'react';\nimport { ReactReduxContext } from './Context';\nimport { createSubscription } from '../utils/Subscription';\nimport { useIsomorphicLayoutEffect } from '../utils/useIsomorphicLayoutEffect';\n\nfunction Provider({\n  store,\n  context,\n  children,\n  serverState,\n  stabilityCheck = 'once',\n  noopCheck = 'once'\n}) {\n  const contextValue = React.useMemo(() => {\n    const subscription = createSubscription(store);\n    return {\n      store,\n      subscription,\n      getServerState: serverState ? () => serverState : undefined,\n      stabilityCheck,\n      noopCheck\n    };\n  }, [store, serverState, stabilityCheck, noopCheck]);\n  const previousState = React.useMemo(() => store.getState(), [store]);\n  useIsomorphicLayoutEffect(() => {\n    const {\n      subscription\n    } = contextValue;\n    subscription.onStateChange = subscription.notifyNestedSubs;\n    subscription.trySubscribe();\n\n    if (previousState !== store.getState()) {\n      subscription.notifyNestedSubs();\n    }\n\n    return () => {\n      subscription.tryUnsubscribe();\n      subscription.onStateChange = undefined;\n    };\n  }, [contextValue, previousState]);\n  const Context = context || ReactReduxContext; // @ts-ignore 'AnyAction' is assignable to the constraint of type 'A', but 'A' could be instantiated with a different subtype\n\n  return /*#__PURE__*/React.createElement(Context.Provider, {\n    value: contextValue\n  }, children);\n}\n\nexport default Provider;","import 'normalize.css';\r\n// import '/style/index.css';\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport store from './store';\r\nimport { Provider } from 'react-redux';\r\nimport { PageContextProvider } from './usePageContext';\r\nimport { Link } from './Link';\r\nimport type { PageContext } from './types';\r\n\r\nexport { PageShell };\r\n\r\nfunction PageShell({ children, pageContext }: { children: React.ReactNode; pageContext: PageContext }) {\r\n    return (\r\n        <Provider store={store}>\r\n            <PageContextProvider pageContext={pageContext}>\r\n                <Layout>\r\n                    <BackgroundArea />\r\n                    <App>{children}</App>\r\n                </Layout>\r\n            </PageContextProvider>\r\n        </Provider>\r\n    );\r\n}\r\n\r\nfunction Layout({ children }: { children: React.ReactNode }) {\r\n    return <div className=\"layout\">{children}</div>;\r\n}\r\n\r\nfunction BackgroundArea() {\r\n    return (\r\n        <div className=\"left-area\">\r\n            <div className=\"txt-intro\">\r\n                <strong>채식 식당 검색과 북마크 서비스</strong>\r\n                <h1>\r\n                    <Link href=\"/\">그린 맵</Link>\r\n                </h1>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n/**\r\n * !모바일 웹 vh 관련\r\n */\r\n\r\nfunction App({ children }: { children: React.ReactNode }) {\r\n    const [isMobile, setIsMobile] = useState(false);\r\n\r\n    const __APP_Element__ = useRef<HTMLDivElement>(null);\r\n\r\n    useEffect(() => {\r\n        setIsMobile(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent));\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (isMobile) {\r\n            const element = __APP_Element__.current as HTMLDivElement;\r\n            if (element !== null) {\r\n                element.style.height = window.innerHeight + 'px';\r\n            }\r\n        }\r\n    }, [isMobile]);\r\n\r\n    return (\r\n        <div className=\"app\" ref={__APP_Element__}>\r\n            {children}\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport ReactDOM, { hydrateRoot } from 'react-dom/client';\r\nimport store from './store';\r\nimport { Provider } from 'react-redux';\r\nimport { PageShell } from './PageShell';\r\nimport type { PageContextClient } from './types';\r\n\r\nexport { render };\r\n// export const clientRouting = false;\r\nexport const hydrationCanBeAborted = true;\r\n\r\nlet root: ReactDOM.Root;\r\n\r\nasync function render(pageContext: PageContextClient) {\r\n    const { Page, pageProps, routeParams, token, user, reviews, restaurantInfo, postId, post } = pageContext;\r\n\r\n    const page = (\r\n        <React.StrictMode>\r\n            <Provider store={store}>\r\n                <PageShell pageContext={pageContext}>\r\n                    <Page\r\n                        {...pageProps}\r\n                        routeParams={routeParams}\r\n                        token={token}\r\n                        user={user}\r\n                        reviews={reviews}\r\n                        restaurantInfo={restaurantInfo}\r\n                        post={post}\r\n                        postId={postId}\r\n                    />\r\n                </PageShell>\r\n            </Provider>\r\n        </React.StrictMode>\r\n    );\r\n\r\n    const container = document.getElementById('page-view') as HTMLElement;\r\n    // SPA\r\n    if (container.innerHTML === '' || !pageContext.isHydration) {\r\n        if (!root) {\r\n            root = ReactDOM.createRoot(container);\r\n        }\r\n\r\n        root.render(page);\r\n        // SSR\r\n    } else {\r\n        root = hydrateRoot(container, page);\r\n    }\r\n}\r\n"],"names":["m","require$$0","client","hydrateRoot","createListenerCollection","batch","getBatch","first","last","listener","listeners","callback","isSubscribed","nullListeners","createSubscription","store","parentSub","unsubscribe","subscriptionsAmount","selfSubscribed","addNestedSub","trySubscribe","cleanupListener","removed","tryUnsubscribe","notifyNestedSubs","handleChangeWrapper","subscription","trySubscribeSelf","tryUnsubscribeSelf","canUseDOM","useIsomorphicLayoutEffect","React.useLayoutEffect","React.useEffect","Provider","context","children","serverState","stabilityCheck","noopCheck","contextValue","React.useMemo","previousState","Context","ReactReduxContext","React.createElement","PageShell","pageContext","PageContextProvider","Layout","jsx","BackgroundArea","App","jsxs","Link","isMobile","setIsMobile","useState","__APP_Element__","useRef","useEffect","element","hydrationCanBeAborted","root","render","Page","pageProps","routeParams","token","user","reviews","restaurantInfo","postId","post","page","React","container","ReactDOM"],"mappings":"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","x_google_ignoreList":[0,1,2,3]}