import{r as a,R as S,j as o}from"../chunks/chunk-0ad0329c.js";import{r as R,g as w,R as M}from"../chunks/chunk-da345742.js";import{s as j}from"../chunks/chunk-a6e5261d.js";import{P as L,L as N}from"../chunks/chunk-3c838518.js";import"../chunks/chunk-41308c4f.js";import"../chunks/chunk-b82d406b.js";import"../chunks/chunk-2b326172.js";import"../chunks/chunk-f3107ac8.js";import"../chunks/chunk-87bfa915.js";import"../chunks/chunk-91c16fc8.js";import"../chunks/chunk-63b910cd.js";import"../chunks/chunk-370f01b3.js";var m={},P,g=R;m.createRoot=g.createRoot,P=m.hydrateRoot=g.hydrateRoot;function A(){const t=w();let r=null,s=null;return{clear(){r=null,s=null},notify(){t(()=>{let e=r;for(;e;)e.callback(),e=e.next})},get(){let e=[],i=r;for(;i;)e.push(i),i=i.next;return e},subscribe(e){let i=!0,n=s={callback:e,next:null,prev:s};return n.prev?n.prev.next=n:r=n,function(){!i||r===null||(i=!1,n.next?n.next.prev=n.prev:s=n.prev,n.prev?n.prev.next=n.next:r=n.next)}}}}const v={notify(){},get:()=>[]};function B(t,r){let s,e=v;function i(d){return f(),e.subscribe(d)}function n(){e.notify()}function u(){l.onStateChange&&l.onStateChange()}function c(){return!!s}function f(){s||(s=r?r.addNestedSub(u):t.subscribe(u),e=A())}function b(){s&&(s(),s=void 0,e.clear(),e=v)}const l={addNestedSub:i,notifyNestedSubs:n,handleChangeWrapper:u,isSubscribed:c,trySubscribe:f,tryUnsubscribe:b,getListeners:()=>e};return l}const C=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",I=C?a.useLayoutEffect:a.useEffect;function E({store:t,context:r,children:s,serverState:e}){const i=a.useMemo(()=>{const c=B(t);return{store:t,subscription:c,getServerState:e?()=>e:void 0}},[t,e]),n=a.useMemo(()=>t.getState(),[t]);I(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),n!==t.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,n]);const u=r||M;return S.createElement(u.Provider,{value:i},s)}function k({children:t,pageContext:r}){return o.jsx(E,{store:j,children:o.jsx(L,{pageContext:r,children:o.jsxs(_,{children:[o.jsx(H,{}),o.jsx(O,{children:t})]})})})}function _({children:t}){return o.jsx("div",{className:"layout",children:t})}function H(){return o.jsx("div",{className:"left-area",children:o.jsxs("div",{className:"txt-intro",children:[o.jsx("strong",{children:"채식 식당 검색과 북마크 서비스"}),o.jsx("h1",{children:o.jsx(N,{href:"/",children:"그린 맵"})})]})})}function O({children:t}){const[r,s]=a.useState(!1),e=a.useRef(null);return a.useEffect(()=>{s(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))},[]),a.useEffect(()=>{if(r){const i=e.current;i!==null&&(i.style.height=window.innerHeight+"px")}},[r]),o.jsx("div",{className:"app",ref:e,children:t})}const X=!0,Y=!0;let p;async function Z(t){var h,x;const{Page:r,pageProps:s,routeParams:e,token:i,user:n,reviews:u,restaurantInfo:c,postId:f,documentProps:b}=t,l=o.jsx(S.StrictMode,{children:o.jsx(E,{store:j,children:o.jsx(k,{pageContext:t,children:o.jsx(r,{...s,routeParams:e,token:i,user:n,reviews:u,restaurantInfo:c,postId:f})})})}),d=document.getElementById("page-view");if(d.innerHTML===""||!t.isHydration){p||(p=m.createRoot(d)),document.title=((h=t.documentProps)==null?void 0:h.title)||"Green Maps";const y=document.createElement("meta");y.setAttribute("name","description"),y.setAttribute("content",((x=t.documentProps)==null?void 0:x.description)||"채식 식당 지도 서비스"),p.render(l)}else p=P(d,l)}export{X as clientRouting,Y as hydrationCanBeAborted,Z as render};
