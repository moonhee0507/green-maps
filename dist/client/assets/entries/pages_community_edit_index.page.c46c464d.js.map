{"version":3,"file":"pages_community_edit_index.page.c46c464d.js","sources":["../../../../pages/community/edit/index.page.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useAppDispatch } from '../../../renderer/store/hooks';\r\nimport { TopBar } from '../../../components/topBar/topBar';\r\nimport { Create } from '../create/component/Create';\r\nimport { API_URL } from '../../../renderer/CONSTANT_URL';\r\nimport { EDIT_MODE } from '../../../renderer/_reducers/_slices/postSlice';\r\nimport type { PageContext } from '../../../renderer/types';\r\nimport type { Post } from '../../../server/models/Post';\r\n\r\nexport const documentProps = {\r\n    title: '게시글 수정 | Green Maps',\r\n    description: '게시글 수정 페이지',\r\n};\r\n\r\nexport { Page };\r\n\r\nfunction Page(pageContext: PageContext) {\r\n    const dispatch = useAppDispatch();\r\n\r\n    const { postId } = pageContext.routeParams as any;\r\n    const [postInfo, setPostInfo] = useState<Post | null>(null);\r\n\r\n    const [window, setWindow] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (typeof window !== 'undefined') {\r\n            setWindow(true);\r\n        }\r\n\r\n        (async () => {\r\n            const res = await fetch(`${API_URL}/posts/${postId}`);\r\n            const data = await res.json();\r\n            setPostInfo(data);\r\n        })();\r\n\r\n        dispatch(EDIT_MODE(true));\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <TopBar title=\"글 수정\" />\r\n            {window && <Create postInfo={postInfo} />}\r\n        </>\r\n    );\r\n}\r\n"],"names":["documentProps","Page","pageContext","dispatch","useAppDispatch","postId","postInfo","setPostInfo","useState","window","setWindow","useEffect","data","API_URL","EDIT_MODE","jsxs","Fragment","jsx","TopBar","Create"],"mappings":"8YASO,MAAMA,EAAgB,CACzB,MAAO,sBACP,YAAa,YACjB,EAIA,SAASC,EAAKC,EAA0B,CACpC,MAAMC,EAAWC,IAEX,CAAE,OAAAC,CAAO,EAAIH,EAAY,YACzB,CAACI,EAAUC,CAAW,EAAIC,WAAsB,IAAI,EAEpD,CAACC,EAAQC,CAAS,EAAIF,WAAS,EAAK,EAE1CG,OAAAA,EAAAA,UAAU,IAAM,CACR,OAAOF,EAAW,KAClBC,EAAU,EAAI,GAGjB,SAAY,CAEH,MAAAE,EAAO,MADD,MAAM,MAAM,GAAGC,WAAiBR,GAAQ,GAC7B,OACvBE,EAAYK,CAAI,CAAA,KAGXT,EAAAW,EAAU,EAAI,CAAC,CAC5B,EAAG,CAAE,CAAA,EAIGC,EAAA,KAAAC,WAAA,CAAA,SAAA,CAACC,EAAAA,IAAAC,EAAA,CAAO,MAAM,MAAO,CAAA,EACpBT,GAAWQ,EAAA,IAAAE,EAAA,CAAO,SAAAb,CAAoB,CAAA,CAC3C,CAAA,CAAA,CAER"}