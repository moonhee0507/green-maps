{"version":3,"file":"renderer_default.page.client.74db89f7.js","sources":["../../../../node_modules/react-dom/client.js","../../../../node_modules/react-redux/es/utils/Subscription.js","../../../../node_modules/react-redux/es/utils/useIsomorphicLayoutEffect.js","../../../../node_modules/react-redux/es/components/Provider.js","../../../../renderer/PageShell.tsx","../../../../renderer/_default.page.client.tsx"],"sourcesContent":["'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","import { getBatch } from './batch'; // encapsulates the subscription logic for connecting a component to the redux store, as\n// well as nesting subscriptions of descendant components, so that we can ensure the\n// ancestor components re-render before descendants\n\nfunction createListenerCollection() {\n  const batch = getBatch();\n  let first = null;\n  let last = null;\n  return {\n    clear() {\n      first = null;\n      last = null;\n    },\n\n    notify() {\n      batch(() => {\n        let listener = first;\n\n        while (listener) {\n          listener.callback();\n          listener = listener.next;\n        }\n      });\n    },\n\n    get() {\n      let listeners = [];\n      let listener = first;\n\n      while (listener) {\n        listeners.push(listener);\n        listener = listener.next;\n      }\n\n      return listeners;\n    },\n\n    subscribe(callback) {\n      let isSubscribed = true;\n      let listener = last = {\n        callback,\n        next: null,\n        prev: last\n      };\n\n      if (listener.prev) {\n        listener.prev.next = listener;\n      } else {\n        first = listener;\n      }\n\n      return function unsubscribe() {\n        if (!isSubscribed || first === null) return;\n        isSubscribed = false;\n\n        if (listener.next) {\n          listener.next.prev = listener.prev;\n        } else {\n          last = listener.prev;\n        }\n\n        if (listener.prev) {\n          listener.prev.next = listener.next;\n        } else {\n          first = listener.next;\n        }\n      };\n    }\n\n  };\n}\n\nconst nullListeners = {\n  notify() {},\n\n  get: () => []\n};\nexport function createSubscription(store, parentSub) {\n  let unsubscribe;\n  let listeners = nullListeners;\n\n  function addNestedSub(listener) {\n    trySubscribe();\n    return listeners.subscribe(listener);\n  }\n\n  function notifyNestedSubs() {\n    listeners.notify();\n  }\n\n  function handleChangeWrapper() {\n    if (subscription.onStateChange) {\n      subscription.onStateChange();\n    }\n  }\n\n  function isSubscribed() {\n    return Boolean(unsubscribe);\n  }\n\n  function trySubscribe() {\n    if (!unsubscribe) {\n      unsubscribe = parentSub ? parentSub.addNestedSub(handleChangeWrapper) : store.subscribe(handleChangeWrapper);\n      listeners = createListenerCollection();\n    }\n  }\n\n  function tryUnsubscribe() {\n    if (unsubscribe) {\n      unsubscribe();\n      unsubscribe = undefined;\n      listeners.clear();\n      listeners = nullListeners;\n    }\n  }\n\n  const subscription = {\n    addNestedSub,\n    notifyNestedSubs,\n    handleChangeWrapper,\n    isSubscribed,\n    trySubscribe,\n    tryUnsubscribe,\n    getListeners: () => listeners\n  };\n  return subscription;\n}","import { useEffect, useLayoutEffect } from 'react'; // React currently throws a warning when using useLayoutEffect on the server.\n// To get around it, we can conditionally useEffect on the server (no-op) and\n// useLayoutEffect in the browser. We need useLayoutEffect to ensure the store\n// subscription callback always has the selector from the latest render commit\n// available, otherwise a store update may happen between render and the effect,\n// which may cause missed updates; we also must ensure the store subscription\n// is created synchronously, otherwise a store update may occur before the\n// subscription is created and an inconsistent state may be observed\n// Matches logic in React's `shared/ExecutionEnvironment` file\n\nexport const canUseDOM = !!(typeof window !== 'undefined' && typeof window.document !== 'undefined' && typeof window.document.createElement !== 'undefined');\nexport const useIsomorphicLayoutEffect = canUseDOM ? useLayoutEffect : useEffect;","import React, { useMemo } from 'react';\nimport { ReactReduxContext } from './Context';\nimport { createSubscription } from '../utils/Subscription';\nimport { useIsomorphicLayoutEffect } from '../utils/useIsomorphicLayoutEffect';\n\nfunction Provider({\n  store,\n  context,\n  children,\n  serverState\n}) {\n  const contextValue = useMemo(() => {\n    const subscription = createSubscription(store);\n    return {\n      store,\n      subscription,\n      getServerState: serverState ? () => serverState : undefined\n    };\n  }, [store, serverState]);\n  const previousState = useMemo(() => store.getState(), [store]);\n  useIsomorphicLayoutEffect(() => {\n    const {\n      subscription\n    } = contextValue;\n    subscription.onStateChange = subscription.notifyNestedSubs;\n    subscription.trySubscribe();\n\n    if (previousState !== store.getState()) {\n      subscription.notifyNestedSubs();\n    }\n\n    return () => {\n      subscription.tryUnsubscribe();\n      subscription.onStateChange = undefined;\n    };\n  }, [contextValue, previousState]);\n  const Context = context || ReactReduxContext; // @ts-ignore 'AnyAction' is assignable to the constraint of type 'A', but 'A' could be instantiated with a different subtype\n\n  return /*#__PURE__*/React.createElement(Context.Provider, {\n    value: contextValue\n  }, children);\n}\n\nexport default Provider;","import 'normalize.css';\r\n// import '/style/index.css';\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport store from './store';\r\nimport { Provider } from 'react-redux';\r\nimport { PageContextProvider } from './usePageContext';\r\nimport { Link } from './Link';\r\nimport type { PageContext } from './types';\r\n\r\nexport { PageShell };\r\n\r\nfunction PageShell({ children, pageContext }: { children: React.ReactNode; pageContext: PageContext }) {\r\n    return (\r\n        <Provider store={store}>\r\n            <PageContextProvider pageContext={pageContext}>\r\n                <Layout>\r\n                    <BackgroundArea />\r\n                    <App>{children}</App>\r\n                </Layout>\r\n            </PageContextProvider>\r\n        </Provider>\r\n    );\r\n}\r\n\r\nfunction Layout({ children }: { children: React.ReactNode }) {\r\n    return <div className=\"layout\">{children}</div>;\r\n}\r\n\r\nfunction BackgroundArea() {\r\n    return (\r\n        <div className=\"left-area\">\r\n            <div className=\"txt-intro\">\r\n                <strong>채식 식당 검색과 북마크 서비스</strong>\r\n                <h1>\r\n                    <Link href=\"/\">그린 맵</Link>\r\n                </h1>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n/**\r\n * !모바일 웹 vh 관련\r\n */\r\n\r\nfunction App({ children }: { children: React.ReactNode }) {\r\n    const [isMobile, setIsMobile] = useState(false);\r\n\r\n    const __APP_Element__ = useRef<HTMLDivElement>(null);\r\n\r\n    useEffect(() => {\r\n        setIsMobile(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent));\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (isMobile) {\r\n            const element = __APP_Element__.current as HTMLDivElement;\r\n            if (element !== null) {\r\n                element.style.height = window.innerHeight + 'px';\r\n            }\r\n        }\r\n    }, [isMobile]);\r\n\r\n    return (\r\n        <div className=\"app\" ref={__APP_Element__}>\r\n            {children}\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport ReactDOM, { hydrateRoot } from 'react-dom/client';\r\nimport store from './store';\r\nimport { Provider } from 'react-redux';\r\nimport { PageShell } from './PageShell';\r\nimport type { PageContextClient } from './types';\r\n\r\nexport { render };\r\n// export const clientRouting = false;\r\nexport const hydrationCanBeAborted = true;\r\n\r\nlet root: ReactDOM.Root;\r\n\r\nasync function render(pageContext: PageContextClient) {\r\n    const { Page, pageProps, routeParams, token, user, reviews, restaurantInfo, postId, post } = pageContext;\r\n\r\n    const page = (\r\n        <React.StrictMode>\r\n            <Provider store={store}>\r\n                <PageShell pageContext={pageContext}>\r\n                    <Page\r\n                        {...pageProps}\r\n                        routeParams={routeParams}\r\n                        token={token}\r\n                        user={user}\r\n                        reviews={reviews}\r\n                        restaurantInfo={restaurantInfo}\r\n                        post={post}\r\n                        postId={postId}\r\n                    />\r\n                </PageShell>\r\n            </Provider>\r\n        </React.StrictMode>\r\n    );\r\n\r\n    const container = document.getElementById('page-view') as HTMLElement;\r\n    // SPA\r\n    if (container.innerHTML === '' || !pageContext.isHydration) {\r\n        if (!root) {\r\n            root = ReactDOM.createRoot(container);\r\n        }\r\n\r\n        root.render(page);\r\n        // SSR\r\n    } else {\r\n        root = hydrateRoot(container, page);\r\n    }\r\n}\r\n"],"names":["m","require$$0","client","hydrateRoot","createListenerCollection","batch","getBatch","first","last","listener","listeners","callback","isSubscribed","nullListeners","createSubscription","store","parentSub","unsubscribe","addNestedSub","trySubscribe","notifyNestedSubs","handleChangeWrapper","subscription","tryUnsubscribe","canUseDOM","useIsomorphicLayoutEffect","useLayoutEffect","useEffect","Provider","context","children","serverState","contextValue","useMemo","previousState","Context","ReactReduxContext","React","PageShell","pageContext","PageContextProvider","Layout","jsx","BackgroundArea","App","jsxs","Link","isMobile","setIsMobile","useState","__APP_Element__","useRef","element","hydrationCanBeAborted","root","render","Page","pageProps","routeParams","token","user","reviews","restaurantInfo","postId","post","page","container","ReactDOM"],"mappings":"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","x_google_ignoreList":[0,1,2,3]}