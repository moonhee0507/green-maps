import{_ as j}from"../chunks/chunk-101896b7.js";import{r as n,j as t,R as h}from"../chunks/chunk-0ad0329c.js";import{B as x,u as m,A as _,a as g}from"../chunks/chunk-ee696397.js";import{n as P}from"../chunks/chunk-54587732.js";import{N as S}from"../chunks/chunk-5b1b7faa.js";import"../chunks/chunk-02d17786.js";import{u as y}from"../chunks/chunk-b60bc363.js";import{L as E}from"../chunks/chunk-c9eff144.js";import"../chunks/chunk-4ee9bcfe.js";import"../chunks/chunk-3c838518.js";import"../chunks/chunk-0249643f.js";function T(){import.meta.url,import("_").catch(()=>1);async function*e(){}}function v(){const[e,a]=n.useState(!1),c=n.useRef(null);function r(){if(c.current!==null){const o=c.current.value;if(o.length>0){const i=`/community/search/${o}`;P(i,{keepScrollPosition:!0})}else window.alert("ê²€ìƒ‰ì–´ë¥¼ ìž…ë ¥í•´ì£¼ì„¸ìš”.")}}return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"search-bar",children:t.jsx("div",{children:e?t.jsxs("div",{children:[t.jsx("label",{htmlFor:"searchItem",className:"sr-only",children:"ê²Œì‹œê¸€ ê²€ìƒ‰í•˜ê¸°"}),t.jsx("input",{type:"search",id:"searchItem",ref:c,autoFocus:!0})]}):t.jsx("h2",{className:"top-title",children:"ê²Œì‹œíŒ"})})}),t.jsx("button",{type:"button",onClick:()=>e?r():a(!0),"aria-label":"ì‹ë‹¹ ê²€ìƒ‰ ë²„íŠ¼",children:"ðŸ”"})]})}function b(){return t.jsxs("div",{className:"top-bar search",children:[t.jsx(x,{}),t.jsx(v,{})]})}const M={title:"ì»¤ë®¤ë‹ˆí‹° | Green Maps",description:"ì±„ì‹ ì‹ë‹¹ ì§€ë„ ì„œë¹„ìŠ¤ ì»¤ë®¤ë‹ˆí‹°"},R=h.lazy(()=>j(()=>import("../chunks/chunk-c63cdfb1.js"),["assets/chunks/chunk-c63cdfb1.js","assets/chunks/chunk-0ad0329c.js","assets/chunks/chunk-54587732.js","assets/chunks/chunk-4ee9bcfe.js","assets/chunks/chunk-1dfa609d.js","assets/chunks/chunk-ee696397.js","assets/chunks/chunk-02d17786.js","assets/chunks/chunk-b60bc363.js","assets/chunks/chunk-744bc730.js","assets/chunks/chunk-716ac8a7.js","assets/chunks/chunk-dfbf6de9.js"]));function O(e){var p;const[a,c]=y(),r=m(s=>s.postSlice.SUBJECT),o=m(s=>s.postSlice.post.CURRENT_PAGE),i=20,[l,d]=n.useState(((p=e.postProps)==null?void 0:p.lists)||[]),u=n.useCallback(async()=>{try{return await(await fetch(`${_}/${r!==""?"subjects/"+r:"posts"}?page=${o}&limit=${i}`,{credentials:"include",headers:{"Content-Type":"application/json"}})).json()}catch(s){console.error(s)}},[o,r]),f=g();return n.useEffect(()=>{u().then(s=>{d(s.currentPage===1?s.lists:[...l,...s.lists]),f({type:"postSlice/POST_IN_PAGE",TOTAL:s.total,CURRENT_PAGE:s.currentPage})})},[u]),t.jsxs(h.Suspense,{fallback:t.jsx(E,{}),children:[t.jsx(b,{}),t.jsx(R,{isLoggedIn:a,posts:l,limit:i}),t.jsx(S,{isLoggedIn:a})]})}export{O as Page,T as __vite_legacy_guard,M as documentProps};
