import{j as e,r as l,R as b}from"../chunks/chunk-0ad0329c.js";import{T as N}from"../chunks/chunk-8eee58da.js";import{N as E}from"../chunks/chunk-5b1b7faa.js";import{b as d,u,A as R}from"../chunks/chunk-ee696397.js";import{a as L,b as w,R as A}from"../chunks/chunk-40382910.js";import{A as m,m as j,n as y}from"../chunks/chunk-b82d406b.js";import{P as _}from"../chunks/chunk-76e51bf7.js";import{u as P}from"../chunks/chunk-b60bc363.js";import"../chunks/chunk-02d17786.js";import"../chunks/chunk-41308c4f.js";import"../chunks/chunk-3c838518.js";import"../chunks/chunk-051b4061.js";import"../chunks/chunk-101896b7.js";import"../chunks/chunk-54587732.js";import"../chunks/chunk-4ee9bcfe.js";import"../chunks/chunk-e8bc0b58.js";import"../chunks/chunk-3258e6a6.js";function Y(){import.meta.url,import("_").catch(()=>1);async function*t(){}}function T(){const t=d(),r=()=>{const c=Array.from(document.querySelectorAll(".checkbox-category-filter")),n=c.length,a=c.filter(s=>s.checked===!0).map(s=>s.value);if(a.length===0){alert("ÏóÖÏ¢ÖÏùÑ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî.");return}n===a.length?t(m("*")):t(m(a))};return e.jsx("button",{type:"button",onClick:r,className:"button-apply-filter",children:"Ï†ÅÏö©"})}function B(){const t=d(),[r,c]=l.useState(()=>{const s=Object.keys(L).filter(i=>i!=="Í∏∞ÌÉÄ");return t(m([...s].sort())),[...s].sort()}),n=l.useRef([]);l.useEffect(()=>{n.current=Array(r.length).fill(null).map(()=>b.createRef())},[r]);const a=()=>{n.current.map(s=>{s.current!==null&&(s.current.checked=!1)})};return e.jsxs("div",{className:"container-filter",children:[e.jsx("em",{className:"txt-filter-name",children:"ÏóÖÏ¢Ö"}),e.jsx("div",{children:e.jsxs("form",{children:[e.jsx(T,{}),e.jsxs("div",{className:"container-button-all",children:[e.jsx("button",{type:"button",onClick:a,children:"Ï†ÑÏ≤¥ Ìï¥Ï†ú"}),e.jsx("button",{type:"reset",children:"Ï†ÑÏ≤¥ ÏÑ†ÌÉù"})]}),e.jsx("div",{className:"wrapper-checkbox-category reuse-in-result",children:r.map((s,i)=>e.jsx(w,{name:s,index:i,ref:n.current[i]},Math.random()))})]})})]})}function I(){const t=d(),r=["Ï±ÑÏãùÏùåÏãùÏ†ê","Ï±ÑÏãùÍ∞ÄÎä•ÏùåÏãùÏ†ê"];l.useEffect(()=>{t(j([]))},[]);const c=()=>{const a=Array.from(document.querySelectorAll(".checkbox-cert-filter")).filter(s=>s.checked===!0).map(s=>s.value);t(j(a))};return e.jsxs("div",{className:"container-filter",children:[e.jsx("em",{className:"txt-filter-name",children:"Ï±ÑÏãù Ïù∏Ï¶ù"}),e.jsx("div",{children:e.jsxs("form",{children:[e.jsx("button",{type:"button",onClick:c,className:"button-apply-filter",children:"Ï†ÅÏö©"}),e.jsx("div",{className:"wrapper-checkbox-category reuse-in-result",children:r.map((n,a)=>e.jsx(D,{name:n,index:a},Math.random()))})]})})]})}function D({name:t,index:r}){const c=u(i=>i.mapSlice.selectedCert),[n,a]=l.useState(!0),s=i=>{a(i.target.checked)};return l.useEffect(()=>{a(c.includes(t))},[c]),e.jsxs("div",{className:"container-check-cert",children:[e.jsx("input",{type:"checkbox",checked:n,onChange:s,id:`checkboxCert-${r}`,className:"checkbox-cert-filter",value:t}),e.jsx("label",{htmlFor:`checkboxCert-${r}`,children:t})]})}function F(){return e.jsxs("section",{children:[e.jsx("h3",{className:"sr-only","aria-label":"ÌïÑÌÑ∞"}),e.jsx(B,{}),e.jsx(I,{})]})}function $(){const t=d();l.useEffect(()=>{t(y("relevance"))},[]);const r=c=>{t(y(c.target.value))};return e.jsxs("section",{children:[e.jsx("h3",{className:"sr-only","aria-label":"Ï†ïÎ†¨"}),e.jsx("div",{className:"container-sort",children:e.jsxs("form",{children:[e.jsx("label",{htmlFor:"selectBoxSortInSearch",children:"Ï†ïÎ†¨"}),e.jsxs("select",{name:"",id:"selectBoxSortInSearch",onChange:r,children:[e.jsx("option",{value:"relevance",children:"Í¥ÄÎ†®ÎèÑ"}),e.jsx("option",{value:"rating",children:"Î≥ÑÏ†êÏàú"}),e.jsx("option",{value:"review",children:"Î¶¨Î∑∞Ïàú"}),e.jsx("option",{value:"distance",children:"Í±∞Î¶¨Ïàú"})]})]})})]})}function O(){return e.jsxs("div",{children:[e.jsx(F,{}),e.jsx($,{})]})}function M({total:t,perPage:r,searchListInPage:c}){return e.jsxs("div",{className:"wrapper-result-in-radius reuse-in-search",children:[e.jsxs("p",{children:["Í≤ÄÏÉâ Í≤∞Í≥º(",t,")"]}),c.length>0?e.jsxs(e.Fragment,{children:[e.jsx(G,{searchListInPage:c}),e.jsx(_,{count:t,perPage:r})]}):e.jsxs("div",{className:"style-wrapper-no-review",children:[e.jsx("div",{className:"txt-no-review",children:"üò≠"}),e.jsx("p",{children:"Í≤ÄÏÉâ Í≤∞Í≥ºÍ∞Ä ÏóÜÏñ¥Ïöî."})]})]})}function G({searchListInPage:t}){return e.jsx("ul",{className:"ul-restaurant-in-radius reuse-in-search",children:t.map((r,c)=>e.jsx(A,{restaurantInfo:r,isFirst:c===0},Math.random()))})}function q({keyword:t,total:r,perPage:c,searchListInPage:n}){return e.jsxs("main",{className:"main-search-result",children:[e.jsx(O,{}),e.jsx(M,{total:r,perPage:c,searchListInPage:n})]})}const le={title:"Ï±ÑÏãù ÏãùÎãπ Í≤ÄÏÉâ Í≤∞Í≥º | Green Maps",description:"Ï±ÑÏãù ÏãùÎãπ ÏßÄÎèÑ Í≤ÄÏÉâ ÌéòÏù¥ÏßÄ"};function ue(t){var f;const[r,c]=P(),n=((f=t.routeParams)==null?void 0:f.keyword)||"",a=u(o=>o.paginationSlice.currentPage),s=u(o=>o.mapSlice.selectedCategory),i=u(o=>o.mapSlice.selectedCert),p=u(o=>o.mapSlice.resultOrderBy),h=u(o=>o.mapSlice.currentLocation),[g,C]=l.useState([]),[k,S]=l.useState(0),[x,K]=l.useState(20);l.useEffect(()=>{v().then(o=>{o.success&&(C(o.lists),S(o.total))})},[a,s,i,p,h]);async function v(){return await(await fetch(`${R}/search/?keyword=${n}&page=${a}&limit=${x}&orderBy=${p}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({category:s,cert:i,currentLocation:[h[1],h[0]]})})).json()}return e.jsxs(e.Fragment,{children:[e.jsx(N,{title:`${n} üîç`}),e.jsx(q,{keyword:n,total:k,perPage:x,searchListInPage:g}),e.jsx(E,{isLoggedIn:r})]})}export{ue as Page,Y as __vite_legacy_guard,le as documentProps};
