import{r as p,R as h,j as r}from"../chunks/chunk-0ad0329c.js";import{r as S,g as R,R as w}from"../chunks/chunk-da345742.js";import{s as y}from"../chunks/chunk-d32bad98.js";import{P as E,L}from"../chunks/chunk-3c838518.js";import"../chunks/chunk-41308c4f.js";import"../chunks/chunk-5ed30243.js";import"../chunks/chunk-2b326172.js";import"../chunks/chunk-f3107ac8.js";import"../chunks/chunk-87bfa915.js";import"../chunks/chunk-91c16fc8.js";import"../chunks/chunk-63b910cd.js";import"../chunks/chunk-370f01b3.js";var m={},g,x=S;m.createRoot=x.createRoot,g=m.hydrateRoot=x.hydrateRoot;function N(){const t=R();let s=null,i=null;return{clear(){s=null,i=null},notify(){t(()=>{let e=s;for(;e;)e.callback(),e=e.next})},get(){let e=[],o=s;for(;o;)e.push(o),o=o.next;return e},subscribe(e){let o=!0,n=i={callback:e,next:null,prev:i};return n.prev?n.prev.next=n:s=n,function(){!o||s===null||(o=!1,n.next?n.next.prev=n.prev:i=n.prev,n.prev?n.prev.next=n.next:s=n.next)}}}}const b={notify(){},get:()=>[]};function P(t,s){let i,e=b;function o(j){return l(),e.subscribe(j)}function n(){e.notify()}function u(){a.onStateChange&&a.onStateChange()}function c(){return!!i}function l(){i||(i=s?s.addNestedSub(u):t.subscribe(u),e=N())}function d(){i&&(i(),i=void 0,e.clear(),e=b)}const a={addNestedSub:o,notifyNestedSubs:n,handleChangeWrapper:u,isSubscribed:c,trySubscribe:l,tryUnsubscribe:d,getListeners:()=>e};return a}const C=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",B=C?p.useLayoutEffect:p.useEffect;function v({store:t,context:s,children:i,serverState:e}){const o=p.useMemo(()=>{const c=P(t);return{store:t,subscription:c,getServerState:e?()=>e:void 0}},[t,e]),n=p.useMemo(()=>t.getState(),[t]);B(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),n!==t.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,n]);const u=s||w;return h.createElement(u.Provider,{value:o},i)}function M({children:t,pageContext:s}){return r.jsx(v,{store:y,children:r.jsx(E,{pageContext:s,children:r.jsxs(k,{children:[r.jsx(I,{}),r.jsx(A,{children:t})]})})})}function k({children:t}){return r.jsx("div",{className:"layout",children:t})}function I(){return r.jsx("div",{className:"left-area",children:r.jsxs("div",{className:"txt-intro",children:[r.jsx("strong",{children:"채식 식당 검색과 북마크 서비스"}),r.jsx("h1",{children:r.jsx(L,{href:"/",children:"그린 맵"})})]})})}function A({children:t}){return r.jsx("div",{className:"app",children:t})}const K=!0,Q=!0;let f;async function X(t){const{Page:s,pageProps:i,routeParams:e,token:o,user:n,reviews:u,restaurantInfo:c,postId:l}=t,d=r.jsx(h.StrictMode,{children:r.jsx(v,{store:y,children:r.jsx(M,{pageContext:t,children:r.jsx(s,{...i,routeParams:e,token:o,user:n,reviews:u,restaurantInfo:c,postId:l})})})}),a=document.getElementById("page-view");a.innerHTML===""||!t.isHydration?(f||(f=m.createRoot(a)),f.render(d)):f=g(a,d)}export{K as clientRouting,Q as hydrationCanBeAborted,X as render};
