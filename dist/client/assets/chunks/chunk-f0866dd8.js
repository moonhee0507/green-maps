import{r as i,j as e,R}from"./chunk-93156e5d.js";import{C as w,b as m,u as b}from"./chunk-c1371adf.js";import{D as _}from"./chunk-35151331.js";import{_ as k}from"./chunk-101896b7.js";import{C as y,A as x,S as E}from"./chunk-0bbcfb89.js";import{i as S}from"./chunk-e8bc0b58.js";import{a as I}from"./chunk-3258e6a6.js";const p={일식:{thumb:{src:"images/category-japan.webp",copyRight:"ultimatearm - Flaticon"},list:["일식","퓨전일식","초밥,롤"]},"멕시칸/브라질":{thumb:{src:"images/category-south-america.webp",copyRight:"Eucalyp - Flaticon"},list:["멕시칸,브라질"]},샐러드:{thumb:{src:"images/category-salad.webp",copyRight:"Victoruler - Flaticon"},list:["샐러드"]},한식:{thumb:{src:"images/category-korea.webp",copyRight:"Darius Dan - Flaticon"},list:["한식","분식","한정식","퓨전한식","칼국수","떡,한과","떡볶이","쌈밥","한식뷔페","돈까스,우동","두부전문점","찌개,전골","도시락","채식뷔페","뷔페","샤브샤브","구내식당","국수","퓨전요리"]},"인도/중동":{thumb:{src:"images/category-middle-east.webp",copyRight:"cah nggunung - Flaticon"},list:["인도/중동","인도음식","터키음식"]},양식:{thumb:{src:"images/category-west.webp",copyRight:"pojok d - Flaticon"},list:["양식","이탈리안","피자","토스트","햄버거","패밀리레스토랑","패스트푸드"]},카페:{thumb:{src:"images/category-cafe.webp",copyRight:"Freepik - Flaticon"},list:["베이커리","까페","카페","커피전문점","제과,베이커리","디저트카페","샌드위치","갤러리카페","테마카페","아이스크림","도넛","북카페","전통찻집","스튜디오카페","고양이카페"]},술집:{thumb:{src:"images/category-drink.webp",copyRight:"Good Ware - Flaticon"},list:["술집","호프,요리주점","와인바","일본식주점","칵테일바"]},중식:{thumb:{src:"images/category-china.webp",copyRight:"GOWI - Flaticon"},list:["중국식","중국요리","중식","아시아음식","퓨전중식"]},동남아:{thumb:{src:"images/category-east-south-asia.webp",copyRight:"Eucalyp - Flaticon"},list:["동남아","태국음식","동남아음식"]},치킨:{thumb:{src:"images/category-chicken.webp",copyRight:"Soni Sokell - Flaticon"},list:["닭강정"]},해산물:{thumb:{src:"images/category-fish.webp",copyRight:"fjstudio - Flaticon"},list:["해물,생선","참치회"]},죽:{thumb:{src:"images/category-porridge.webp",copyRight:"Freepik - Flaticon"},list:["죽"]},기타:{thumb:{src:"images/category-food.webp",copyRight:"3ab2ou - Flaticon"},list:["과일,채소가게","식품판매","생과일전문점","교육,학문","음식점","식품가공,제조","슈퍼마켓"]}};function F(t){if(t===""||t===null)return"기타";for(const c in p)if(p[c].list.includes(t))return c;return"기타"}function v({category:t}){const[c]=i.useState(()=>F(t)),[n,a]=i.useState(""),[r,l]=i.useState("");return i.useEffect(()=>{const{copyRight:o,src:u}=p[c].thumb;a(o),l("/"+u)},[c]),e.jsxs("div",{className:"container-img",children:[e.jsx("a",{href:"/"+w,title:`${c} icon`,children:e.jsxs("span",{className:"sr-only",children:["아이콘 제작자: ",n]})}),r!==""&&e.jsx("img",{src:r,alt:"카테고리 아이콘"})]})}function D({location:t}){return e.jsx("div",{className:"container-distance",children:e.jsx(_,{location:t})})}function O({elRef:t,onDragMove:c}){const n=i.useRef(null);n.current=c,i.useEffect(()=>{let a;k(()=>import("./chunk-af5eed35.js").then(r=>r.h),["assets/chunks/chunk-af5eed35.js","assets/chunks/chunk-93156e5d.js"]).then(r=>{const{DIRECTION_HORIZONTAL:l}=r;if(!t||!t.current){console.error("useSwipe hook은 swipe 컨테이너를 참조해야 합니다.");return}const o=t.current;a=new Hammer.Manager(o);const u=new Hammer.Pan({threshold:10,direction:l});return a.add(u),a.on("panmove",s=>n.current&&n.current(s)),()=>{a.off("panstart"),a.off("panmove")}})},[n])}const j=10,C=350,N=1*2;function Y(){const t=m(s=>s.mapSlice.resultInRadius),c=m(s=>s.mapSlice.nearest),n=i.useRef(null),[a,r]=i.useState(t);i.useEffect(()=>{t.length>0?r(t):r(c)},[t]);const[l,o]=i.useState(0);return O({elRef:n,onDragMove:s=>{const d=s.deltaX;o(f=>{const h=f+d;if(h>0)return 0;const g=(j+C+N)*(a.length-1)*-1;return h<g?g:h})}}),e.jsx("div",{className:"wrapper-swiper",children:e.jsx("div",{className:"container-swiper",ref:n,style:{transform:`translateX(${l}px)`,transition:"1s"},children:e.jsx("ul",{className:"ul-restaurant-in-radius",style:{gap:`${j}px`},children:a.map(s=>e.jsx(A,{restaurantInfo:s},Math.random()))})})})}function A({restaurantInfo:t,isFirst:c}){const{_id:n,category:a,title:r,address:l,rating:o,reviews:u,certification:s,location:d}=t,f=m(g=>g.paginationSlice.currentPage),h=i.useRef(null);return i.useEffect(()=>{c&&h.current&&h.current.scrollIntoView(!1)},[c,f]),e.jsx("li",{style:{width:`${C}px`,borderWidth:`${N/2}px`},ref:h,children:e.jsxs("div",{onClick:()=>window.location.href=`/search/${n}`,children:[e.jsx(v,{category:a}),e.jsx(D,{location:d.coordinates}),e.jsx("div",{className:"container-right",children:e.jsxs("dl",{children:[s?e.jsxs("dl",{children:[e.jsx("dt",{className:"sr-only",children:"채식 인증 내용"}),e.jsx("dd",{className:"txt-cert",children:s})]}):null,e.jsxs("dl",{children:[e.jsx("dt",{className:"sr-only",children:"식당 이름"}),e.jsx("dd",{className:"txt-title",children:r}),e.jsx("dt",{className:"sr-only",children:"업종"}),e.jsx("dd",{className:"txt-category",children:a})]}),e.jsxs("dl",{children:[e.jsx("dt",{className:"sr-only",children:"주소"}),e.jsx("dd",{className:"txt-address",children:l})]}),e.jsxs("dl",{className:"container-rating-count",children:[e.jsx("dt",{className:"sr-only",children:"평점"}),e.jsx("dd",{className:"txt-rating",children:o}),e.jsx("dt",{className:"sr-only",children:"리뷰 수"}),e.jsx("dd",{className:"txt-count-comment",children:u?u.length:0})]})]})})]})})}function L(){const t=b();function c(){I(!1),t(y(!1))}return e.jsx("button",{type:"button",className:"button-close",onClick:c,children:e.jsx("img",{src:S,alt:"X 아이콘",className:"img-close"})})}function M(){const t=b(),c=m(a=>a.mapSlice.mapMode),n=()=>{const a=Array.from(document.querySelectorAll(".checkbox-category-filter")),r=a.length,l=a.filter(o=>o.checked===!0).map(o=>o.value);if(l.length===0){alert("업종을 선택해주세요.");return}r===l.length?t(x("*")):t(x(l)),c==="지역탐색 모드"?(t(y(!1)),t(E(!0))):c==="반경탐색 모드"&&t(y(!1))};return e.jsx("button",{type:"button",onClick:n,className:"button-apply-filter",children:"적용하기"})}function B(){const t=b(),[c,n]=i.useState(!1),a=m(s=>s.mapSlice.categoryFilterModalOn),[r,l]=i.useState(()=>{const s=Object.keys(p).filter(d=>d!=="기타");return t(x([...s].sort())),[...s].sort()});i.useEffect(()=>{n(a===!0)},[a]);const o=i.useRef([]);i.useEffect(()=>{o.current=Array(r.length).fill(null).map(()=>R.createRef())},[r]);const u=()=>{o.current.map(s=>{s.current!==null&&(s.current.checked=!1)})};return e.jsxs("article",{className:`modal-group-item ${c?"on":""}`,children:[e.jsx("h4",{children:"업종 필터"}),e.jsxs("form",{children:[e.jsxs("div",{className:"container-button-all-in-modal",children:[e.jsx("button",{type:"button",onClick:u,className:"button-all-category",children:"전체 해제"}),e.jsx("button",{type:"reset",className:"button-all-category",children:"전체 선택"})]}),e.jsx("div",{className:"wrapper-checkbox-category",children:r.map((s,d)=>e.jsx(T,{name:s,index:d,ref:o.current[d]},Math.random()))}),e.jsx(M,{})]}),e.jsx(L,{})]})}const T=R.forwardRef(function({name:c,index:n},a){const r=m(s=>s.mapSlice.selectedCategory),[l,o]=i.useState(r.includes(c)||r==="*"),u=s=>{o(s.target.checked)};return i.useEffect(()=>{o(r==="*"?!0:r.includes(c))},[r]),console.log("i: isChecked",n,": ",l),e.jsxs("div",{children:[e.jsx("input",{type:"checkbox",checked:l,onChange:u,id:`checkboxCategory-${n}`,className:"checkbox-category-filter",value:c,ref:a}),e.jsx("label",{htmlFor:`checkboxCategory-${n}`,children:c})]})});export{p as C,Y as R,T as a,A as b,B as c};
//# sourceMappingURL=chunk-f0866dd8.js.map
