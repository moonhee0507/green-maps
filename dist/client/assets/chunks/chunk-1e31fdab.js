import{r as g,j as e}from"./chunk-93156e5d.js";import{S as h,T as S,P,a as j,u as T}from"./chunk-5abc8723.js";import"./chunk-1ef25d43.js";import{c as A,a as E}from"./chunk-c1371adf.js";const m=g.forwardRef(R);function R(n,c){const{postInfo:i}=n,{_id:r,subject:s,owner:p,title:a,content:l,photo:t,like:o,registeredAt:f,comments:x}=i,d=_(l),u="80px";return e.jsx("li",{ref:c,children:e.jsxs("a",{href:`/community/${r}`,style:{width:"100%",display:"flex",padding:"20px"},children:[e.jsxs("dl",{style:{width:`calc(100% - ${t&&t.length>0?u:"0px"})`},children:[e.jsx(h,{subject:s}),e.jsx(S,{title:a}),e.jsx(P,{content:d}),e.jsx(j,{owner:p,like:o,registeredAt:f,comments:x})]}),t&&t.length>0?e.jsx("dd",{children:e.jsx("img",{src:t[0].src,alt:"",style:{width:u,height:u,objectFit:"cover"}})}):null]})})}function _(n){return n.replaceAll(/<[^>]*>/g,"").replaceAll(/&[a-zA-Z0-9]*;/g,"")}function L(n){const{posts:c,limit:i}=n,r=g.useRef(null),s=A(),p=E(),[a,l]=T(()=>{const t=Math.ceil(s.getState().postSlice.post.TOTAL/i);s.getState().postSlice.post.CURRENT_PAGE<t&&p({type:"postSlice/POST_IN_PAGE",TOTAL:s.getState().postSlice.post.TOTAL,CURRENT_PAGE:s.getState().postSlice.post.CURRENT_PAGE+1})});return g.useEffect(()=>{const t=Math.ceil(s.getState().postSlice.post.TOTAL/i),o=s.getState().postSlice.post.CURRENT_PAGE;o===t?l(r.current):o<t&&a(r.current)},[a,l,r]),e.jsx("ul",{className:"wrapper-posts",children:c.map((t,o)=>o===c.length-1?e.jsx(m,{postInfo:t,ref:r},t._id):e.jsx(m,{postInfo:t},t._id))})}export{L as P};
//# sourceMappingURL=chunk-1e31fdab.js.map
