{"version":3,"file":"chunk-17d85641.js","sources":["../../../../pages/community/component/CommunityDetail/SubjectBox.tsx"],"sourcesContent":["import React, { ChangeEvent, useEffect, useState } from 'react';\r\nimport { useAppDispatch, useAppSelector } from '../../../../renderer/store/hooks';\r\nimport { useCheckLoginStatus } from '../../../../renderer/_hooks/useCheckLoginStatus';\r\nimport type { Post } from '../../../../server/models/Post';\r\n\r\nexport { SubjectBox };\r\n\r\nfunction SubjectBox({ postInfo }: { postInfo?: Post | null }) {\r\n    const dispatch = useAppDispatch();\r\n\r\n    const [isAdmin, setIsAdmin] = useState(false);\r\n    const [currentPath, setCurrentPath] = useState<string>('');\r\n    const editMode = useAppSelector((state) => state.postSlice.editMode);\r\n    const subject = useAppSelector((state) => state.postSlice.SUBJECT);\r\n    const [isFocused, setIsFocused] = useState(false);\r\n\r\n    const [_, userInfo] = useCheckLoginStatus();\r\n    useEffect(() => {\r\n        setCurrentPath(window.location.pathname);\r\n        if (userInfo !== null) {\r\n            setIsAdmin(userInfo.role === 9);\r\n        } else setIsAdmin(false);\r\n    }, [userInfo]);\r\n\r\n    useEffect(() => {\r\n        if (postInfo !== null && postInfo !== undefined) {\r\n            dispatch({ type: 'postSlice/SUBJECT_STATE', SUBJECT: postInfo.subject });\r\n        } else {\r\n            dispatch({ type: 'postSlice/SUBJECT_STATE', SUBJECT: '' });\r\n        }\r\n    }, [postInfo]);\r\n\r\n    function handleChange(event: ChangeEvent<HTMLSelectElement>) {\r\n        dispatch({ type: 'postSlice/SUBJECT_STATE', SUBJECT: event.target.value });\r\n\r\n        // ÎßêÎ®∏Î¶¨ Î≥ÄÍ≤Ω Ïãú ÌòÑÏû¨ ÌéòÏù¥ÏßÄ Ï¥àÍ∏∞Ìôî\r\n        dispatch({\r\n            type: 'postSlice/POST_IN_PAGE',\r\n            TOTAL: 0, // ÏµúÏÉÅÎã®ÏóêÏÑú ÏµúÏ¢Ö Í≤∞Ï†ïÎê®\r\n            CURRENT_PAGE: 1,\r\n        });\r\n\r\n        return event.target.value;\r\n    }\r\n\r\n    const handleFocus = () => {\r\n        setIsFocused(true);\r\n    };\r\n\r\n    const handleBlur = () => {\r\n        setIsFocused(false);\r\n    };\r\n\r\n    return (\r\n        <div\r\n            className={`${currentPath === '/community' ? 'wrapper-subject' : 'wrapper-subject create'} ${\r\n                isFocused ? 'on' : ''\r\n            }`}\r\n        >\r\n            <label htmlFor=\"selectSubject\" className={currentPath === '/community' ? '' : 'sr-only'}>\r\n                ÎßêÎ®∏Î¶¨\r\n            </label>\r\n            <select\r\n                name=\"subjects\"\r\n                id=\"selectSubject\"\r\n                onChange={handleChange}\r\n                value={subject}\r\n                onFocus={handleFocus}\r\n                onBlur={handleBlur}\r\n            >\r\n                <option value=\"\">{currentPath === '/community' ? '-- Ï†ÑÏ≤¥ --' : 'ÎßêÎ®∏Î¶¨ ÏÑ†ÌÉù'}</option>\r\n                {currentPath === '/community/create' && isAdmin ? <option value=\"Í≥µÏßÄÏÇ¨Ìï≠\">Í≥µÏßÄÏÇ¨Ìï≠</option> : null}\r\n                <option value=\"ü•ëÏ±ÑÏãùÏñòÍ∏∞\">ü•ëÏ±ÑÏãùÏñòÍ∏∞</option>\r\n                <option value=\"‚öΩÏö¥ÎèôÏñòÍ∏∞\">‚öΩÏö¥ÎèôÏñòÍ∏∞</option>\r\n            </select>\r\n        </div>\r\n    );\r\n}\r\n"],"names":["SubjectBox","postInfo","dispatch","useAppDispatch","isAdmin","setIsAdmin","useState","currentPath","setCurrentPath","useAppSelector","state","subject","isFocused","setIsFocused","_","userInfo","useCheckLoginStatus","useEffect","handleChange","event","handleFocus","handleBlur","jsxs","jsx"],"mappings":"sIAOA,SAASA,EAAW,CAAE,SAAAC,GAAwC,CAC1D,MAAMC,EAAWC,IAEX,CAACC,EAASC,CAAU,EAAIC,WAAS,EAAK,EACtC,CAACC,EAAaC,CAAc,EAAIF,WAAiB,EAAE,EACxCG,EAAgBC,GAAUA,EAAM,UAAU,QAAQ,EACnE,MAAMC,EAAUF,EAAgBC,GAAUA,EAAM,UAAU,OAAO,EAC3D,CAACE,EAAWC,CAAY,EAAIP,WAAS,EAAK,EAE1C,CAACQ,EAAGC,CAAQ,EAAIC,EAAoB,EAC1CC,EAAAA,UAAU,IAAM,CACGT,EAAA,OAAO,SAAS,QAAQ,EAExBH,EADXU,IAAa,KACFA,EAAS,OAAS,EACf,EADgB,CACX,EACxB,CAACA,CAAQ,CAAC,EAEbE,EAAAA,UAAU,IAAM,CACRhB,GAAa,KACbC,EAAS,CAAE,KAAM,0BAA2B,QAASD,EAAS,QAAS,EAEvEC,EAAS,CAAE,KAAM,0BAA2B,QAAS,EAAI,CAAA,CAC7D,EACD,CAACD,CAAQ,CAAC,EAEb,SAASiB,EAAaC,EAAuC,CACzD,OAAAjB,EAAS,CAAE,KAAM,0BAA2B,QAASiB,EAAM,OAAO,MAAO,EAGhEjB,EAAA,CACL,KAAM,yBACN,MAAO,EACP,aAAc,CAAA,CACjB,EAEMiB,EAAM,OAAO,KACxB,CAEA,MAAMC,EAAc,IAAM,CACtBP,EAAa,EAAI,CAAA,EAGfQ,EAAa,IAAM,CACrBR,EAAa,EAAK,CAAA,EAIlB,OAAAS,EAAA,KAAC,MAAA,CACG,UAAW,GAAGf,IAAgB,aAAe,kBAAoB,4BAC7DK,EAAY,KAAO,KAGvB,SAAA,CAACW,EAAAA,IAAA,QAAA,CAAM,QAAQ,gBAAgB,UAAWhB,IAAgB,aAAe,GAAK,UAAW,SAEzF,KAAA,CAAA,EACAe,EAAA,KAAC,SAAA,CACG,KAAK,WACL,GAAG,gBACH,SAAUJ,EACV,MAAOP,EACP,QAASS,EACT,OAAQC,EAER,SAAA,CAAAE,MAAC,UAAO,MAAM,GAAI,SAAgBhB,IAAA,aAAe,WAAa,SAAS,EACtEA,IAAgB,qBAAuBH,EAAUmB,EAAAA,IAAC,UAAO,MAAM,OAAO,gBAAI,EAAY,KACtFA,EAAA,IAAA,SAAA,CAAO,MAAM,SAAS,SAAM,SAAA,EAC5BA,EAAA,IAAA,SAAA,CAAO,MAAM,QAAQ,SAAK,QAAA,CAAA,CAAA,CAC/B,CAAA,CAAA,CAAA,CAGZ"}