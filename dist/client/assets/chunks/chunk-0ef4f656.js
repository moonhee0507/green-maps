import{r as i,j as e}from"./chunk-0ad0329c.js";import{D as d}from"./chunk-4a7b83e5.js";import{u}from"./chunk-da345742.js";import{i as m}from"./chunk-dfbf6de9.js";function b(r){const{title:s}=r,t=u(c=>c.postSlice.KEYWORD),[o,n]=i.useState(s);return i.useEffect(()=>{if(t&&t!=="")if(s.includes(t)){const c=new RegExp(t,"gi"),l=s.replace(c,`<span style="color: blue;">${t}</span>`);n(l)}else n(s);else n(s)},[s,t]),e.jsxs(e.Fragment,{children:[e.jsx("dt",{className:"sr-only",children:"제목"}),t&&t!==""?e.jsx("dd",{className:"txt-postitem-title",dangerouslySetInnerHTML:{__html:d.sanitize(o)}}):e.jsx("dd",{className:"txt-postitem-title",children:s})]})}function S(r){const{content:s}=r,t=u(c=>c.postSlice.KEYWORD),[o,n]=i.useState(s);return i.useEffect(()=>{if(t&&t!=="")if(s.includes(t)){const c=new RegExp(t,"gi"),l=s.replace(c,`<span style="color: blue;">${t}</span>`);n(l)}else n(s);else n(s)},[s,t]),e.jsxs(e.Fragment,{children:[e.jsx("dt",{className:"sr-only",children:"내용"}),t&&t!==""?e.jsx("dd",{className:"txt-postitem-content",dangerouslySetInnerHTML:{__html:d.sanitize(o)}}):e.jsx("dd",{className:"txt-postitem-content",children:s})]})}function v(r){const{like:s,comments:t,registeredAt:o,owner:n}=r;return e.jsxs(e.Fragment,{children:[e.jsx("dt",{className:"sr-only",children:"상세 내용"}),e.jsx("dd",{children:e.jsxs("dl",{className:"container-post-subinfo",children:[e.jsx(x,{like:s}),e.jsx(j,{comments:t}),e.jsx(h,{registeredAt:o}),e.jsx(p,{owner:n})]})})]})}function x(r){var s;return e.jsxs(e.Fragment,{children:[e.jsx("dt",{className:"sr-only",children:"좋아요 개수"}),e.jsx("dd",{className:"container-count-like",children:e.jsx("span",{children:((s=r.like)==null?void 0:s.length)||0})})]})}function j(r){var s;return e.jsxs(e.Fragment,{children:[e.jsx("dt",{className:"sr-only",children:"댓글 개수"}),e.jsx("dd",{className:"container-count-comment",children:e.jsx("span",{children:((s=r.comments)==null?void 0:s.length)||0})})]})}function h(r){var o,n;const{registeredAt:s}=r,t=m(s)?`${(o=s.split(". ").at(-1))==null?void 0:o.split(":")[0]}:${(n=s.split(". ").at(-1))==null?void 0:n.split(":")[1]}`:s.slice(0,13);return e.jsxs(e.Fragment,{children:[e.jsx("dt",{className:"sr-only",children:"작성 시간"}),e.jsx("dd",{className:"container-post-time",children:e.jsx("time",{dateTime:"",children:t})})]})}function p(r){return e.jsxs(e.Fragment,{children:[e.jsx("dt",{className:"sr-only",children:"작성자"}),e.jsx("dd",{className:"txt-post-owner",children:r.owner})]})}function w(r){return e.jsxs(e.Fragment,{children:[e.jsx("dt",{className:"sr-only",children:"말머리"}),e.jsx("dd",{children:r.subject})]})}function E(r){const s=i.useRef(null);return i.useEffect(()=>{const n=l=>{var a;(a=l.at(-1))!=null&&a.isIntersecting&&(console.log("entries",l),console.log("교차상태"),r()),console.log("교차상태 아님")},c=document.querySelector(".main-community");return s.current=new IntersectionObserver(n,{root:c,rootMargin:"-100px",threshold:0}),()=>{var l;(l=s.current)==null||l.disconnect()}},[r]),[n=>{console.log("감시 중인 element",n),n&&s.current&&s.current.observe(n)},n=>{console.log("감시 끝 element",n),n&&s.current&&s.current.unobserve(n)}]}export{S as P,w as S,b as T,v as a,E as u};
