import{r as o,j as e,R as b}from"./chunk-0ad0329c.js";import{C as _,b as m,c as j}from"./chunk-f6dd005f.js";import{D as k}from"./chunk-e08e7d26.js";import{_ as E}from"./chunk-101896b7.js";import{n as S}from"./chunk-c949b376.js";import{k as y,A as x,e as I}from"./chunk-7de418d3.js";import{i as v}from"./chunk-e8bc0b58.js";import{a as F}from"./chunk-3258e6a6.js";const p={일식:{thumb:{src:"/images/category-japan.png",copyRight:"ultimatearm - Flaticon"},list:["일식","퓨전일식","초밥,롤"]},"멕시칸/브라질":{thumb:{src:"images/category-south-america.png",copyRight:"Eucalyp - Flaticon"},list:["멕시칸,브라질"]},샐러드:{thumb:{src:"images/category-salad.png",copyRight:"Victoruler - Flaticon"},list:["샐러드"]},한식:{thumb:{src:"images/category-korea.png",copyRight:"Darius Dan - Flaticon"},list:["한식","분식","한정식","퓨전한식","칼국수","떡,한과","떡볶이","쌈밥","한식뷔페","돈까스,우동","두부전문점","찌개,전골","도시락","채식뷔페","뷔페","샤브샤브","구내식당","국수","퓨전요리"]},"인도/중동":{thumb:{src:"images/category-middle-east.png",copyRight:"cah nggunung - Flaticon"},list:["인도/중동","인도음식","터키음식"]},양식:{thumb:{src:"images/category-west.png",copyRight:"pojok d - Flaticon"},list:["양식","이탈리안","피자","토스트","햄버거","패밀리레스토랑","패스트푸드"]},카페:{thumb:{src:"images/category-cafe.png",copyRight:"Freepik - Flaticon"},list:["베이커리","까페","카페","커피전문점","제과,베이커리","디저트카페","샌드위치","갤러리카페","테마카페","아이스크림","도넛","북카페","전통찻집","스튜디오카페","고양이카페"]},술집:{thumb:{src:"images/category-drink.png",copyRight:"Good Ware - Flaticon"},list:["술집","호프,요리주점","와인바","일본식주점","칵테일바"]},중식:{thumb:{src:"images/category-china.png",copyRight:"GOWI - Flaticon"},list:["중국식","중국요리","중식","아시아음식","퓨전중식"]},동남아:{thumb:{src:"images/category-east-south-asia.png",copyRight:"Eucalyp - Flaticon"},list:["동남아","태국음식","동남아음식"]},치킨:{thumb:{src:"images/category-chicken.png",copyRight:"Soni Sokell - Flaticon"},list:["닭강정"]},해산물:{thumb:{src:"images/category-fish.png",copyRight:"fjstudio - Flaticon"},list:["해물,생선","참치회"]},죽:{thumb:{src:"images/category-porridge.png",copyRight:"Freepik - Flaticon"},list:["죽"]},기타:{thumb:{src:"images/category-food.png",copyRight:"3ab2ou - Flaticon"},list:["과일,채소가게","식품판매","생과일전문점","교육,학문","음식점","식품가공,제조","슈퍼마켓"]}};function D(t){if(t===""||t===null)return"기타";for(const c in p)if(p[c].list.includes(t))return c;return"기타"}function O({category:t}){const[c]=o.useState(()=>D(t)),[n,a]=o.useState(""),[r,l]=o.useState("");return o.useEffect(()=>{const{copyRight:i,src:u}=p[c].thumb;a(i),l("/"+u)},[c]),e.jsxs("div",{className:"container-img",children:[e.jsx("a",{href:"/"+_,title:`${c} icon`,children:e.jsxs("span",{className:"sr-only",children:["아이콘 제작자: ",n]})}),r!==""&&e.jsx("img",{src:r,alt:"카테고리 아이콘"})]})}function w({location:t}){return e.jsx("div",{className:"container-distance",children:e.jsx(k,{location:t})})}function A({elRef:t,onDragMove:c}){const n=o.useRef(null);n.current=c,o.useEffect(()=>{let a;E(()=>import("./chunk-3a39d3a8.js").then(r=>r.h),["assets/chunks/chunk-3a39d3a8.js","assets/chunks/chunk-0ad0329c.js"]).then(r=>{const{DIRECTION_HORIZONTAL:l}=r;if(!t||!t.current){console.error("useSwipe hook은 swipe 컨테이너를 참조해야 합니다.");return}const i=t.current;a=new Hammer.Manager(i);const u=new Hammer.Pan({threshold:10,direction:l});return a.add(u),a.on("panmove",s=>n.current&&n.current(s)),()=>{a.off("panstart"),a.off("panmove")}})},[n])}const R=10,C=350,N=1*2;function V(){const t=m(s=>s.mapSlice.resultInRadius),c=m(s=>s.mapSlice.nearest),n=o.useRef(null),[a,r]=o.useState(t);o.useEffect(()=>{t.length>0?r(t):r(c)},[t]);const[l,i]=o.useState(0);return A({elRef:n,onDragMove:s=>{const d=s.deltaX;i(f=>{const h=f+d;if(h>0)return 0;const g=(R+C+N)*(a.length-1)*-1;return h<g?g:h})}}),e.jsx("div",{className:"wrapper-swiper",children:e.jsx("div",{className:"container-swiper",ref:n,style:{transform:`translateX(${l}px)`,transition:"1s"},children:e.jsx("ul",{className:"ul-restaurant-in-radius",style:{gap:`${R}px`},children:a.map(s=>e.jsx(L,{restaurantInfo:s},Math.random()))})})})}function L({restaurantInfo:t,isFirst:c}){const{_id:n,category:a,title:r,address:l,rating:i,reviews:u,certification:s,location:d}=t,f=m(g=>g.paginationSlice.currentPage),h=o.useRef(null);return o.useEffect(()=>{c&&h.current&&h.current.scrollIntoView(!1)},[c,f]),e.jsx("li",{style:{width:`${C}px`,borderWidth:`${N/2}px`},ref:h,children:e.jsxs("div",{onClick:()=>S(`/search/${n}`),children:[e.jsx(O,{category:a}),e.jsx(w,{location:d.coordinates}),e.jsx("div",{className:"container-right",children:e.jsxs("dl",{children:[s?e.jsxs("dl",{children:[e.jsx("dt",{className:"sr-only",children:"채식 인증 내용"}),e.jsx("dd",{className:"txt-cert",children:s})]}):null,e.jsxs("dl",{children:[e.jsx("dt",{className:"sr-only",children:"식당 이름"}),e.jsx("dd",{className:"txt-title",children:r}),e.jsx("dt",{className:"sr-only",children:"업종"}),e.jsx("dd",{className:"txt-category",children:a})]}),e.jsxs("dl",{children:[e.jsx("dt",{className:"sr-only",children:"주소"}),e.jsx("dd",{className:"txt-address",children:l})]}),e.jsxs("dl",{className:"container-rating-count",children:[e.jsx("dt",{className:"sr-only",children:"평점"}),e.jsx("dd",{className:"txt-rating",children:i}),e.jsx("dt",{className:"sr-only",children:"리뷰 수"}),e.jsx("dd",{className:"txt-count-comment",children:u?u.length:0})]})]})})]})})}function M(){const t=j();function c(){F(!1),t(y(!1))}return e.jsx("button",{type:"button",className:"button-close",onClick:c,children:e.jsx("img",{src:v,alt:"X 아이콘",className:"img-close"})})}function T(){const t=j(),c=m(a=>a.mapSlice.mapMode),n=()=>{const a=Array.from(document.querySelectorAll(".checkbox-category-filter")),r=a.length,l=a.filter(i=>i.checked===!0).map(i=>i.value);if(l.length===0){alert("업종을 선택해주세요.");return}r===l.length?t(x("*")):t(x(l)),c==="지역탐색 모드"?(t(y(!1)),t(I(!0))):c==="반경탐색 모드"&&t(y(!1))};return e.jsx("button",{type:"button",onClick:n,className:"button-apply-filter",children:"적용하기"})}function q(){const t=j(),[c,n]=o.useState(!1),a=m(s=>s.mapSlice.categoryFilterModalOn),[r,l]=o.useState(()=>{const s=Object.keys(p).filter(d=>d!=="기타");return t(x([...s].sort())),[...s].sort()});o.useEffect(()=>{n(a===!0)},[a]);const i=o.useRef([]);o.useEffect(()=>{i.current=Array(r.length).fill(null).map(()=>b.createRef())},[r]);const u=()=>{i.current.map(s=>{s.current!==null&&(s.current.checked=!1)})};return e.jsxs("article",{className:`modal-group-item ${c?"on":""}`,children:[e.jsx("h4",{children:"업종 필터"}),e.jsxs("form",{children:[e.jsxs("div",{className:"container-button-all-in-modal",children:[e.jsx("button",{type:"button",onClick:u,className:"button-all-category",children:"전체 해제"}),e.jsx("button",{type:"reset",className:"button-all-category",children:"전체 선택"})]}),e.jsx("div",{className:"wrapper-checkbox-category",children:r.map((s,d)=>e.jsx(G,{name:s,index:d,ref:i.current[d]},Math.random()))}),e.jsx(T,{})]}),e.jsx(M,{})]})}const G=b.forwardRef(function({name:c,index:n},a){const r=m(s=>s.mapSlice.selectedCategory),[l,i]=o.useState(!0),u=s=>{i(s.target.checked)};return o.useEffect(()=>{i(r.includes(c))},[r]),e.jsxs("div",{children:[e.jsx("input",{type:"checkbox",checked:l,onChange:u,id:`checkboxCategory-${n}`,className:"checkbox-category-filter",value:c,ref:a}),e.jsx("label",{htmlFor:`checkboxCategory-${n}`,children:c})]})});export{q as C,L as R,V as a,p as b,G as c};
