{"version":3,"file":"pages_my-lists_index-page.mjs","sources":["../../../pages/my-lists/index.page.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { TopBar } from '../../components/topBar/topBar';\r\nimport { NavBar } from '../../components/navBar';\r\nimport { ModalGroup } from './ModalGroup/ModalGroup';\r\nimport { API_URL } from '../../renderer/CONSTANT_URL';\r\nimport { useCheckLoginStatus } from '../../renderer/_hooks/useCheckLoginStatus';\r\nimport LoadingMain from '../../components/Loading/LoadingMain';\r\nimport type { GroupList } from '../../server/models/Bookmark';\r\n\r\nexport const documentProps = {\r\n    title: '내 목록 | Green Maps',\r\n    description: '북마크, 좋아요 표시한 채식 식당 목록',\r\n};\r\n\r\nconst MyListMain = React.lazy(() => import('./MyListMain'));\r\n\r\nexport function Page() {\r\n    const [isLoggedIn, info] = useCheckLoginStatus();\r\n\r\n    const [groupList, setGroupList] = useState<GroupList[] | null>(null);\r\n\r\n    useEffect(() => {\r\n        if (info) {\r\n            try {\r\n                (async () => {\r\n                    const res = await fetch(`${API_URL}/bookmark/${info?.userId}`);\r\n                    const data = await res.json();\r\n\r\n                    setGroupList(data.groupList);\r\n                })();\r\n            } catch (err) {\r\n                console.error(err);\r\n            }\r\n        }\r\n    }, [info]);\r\n\r\n    return isLoggedIn && info ? (\r\n        <>\r\n            <TopBar title=\"내 식당 목록\" />\r\n            <React.Suspense fallback={<LoadingMain />}>\r\n                <MyListMain userInfo={info} groupList={groupList} />\r\n            </React.Suspense>\r\n            <NavBar isLoggedIn={isLoggedIn} />\r\n            <ModalGroup userInfo={info} />\r\n        </>\r\n    ) : (\r\n        <LoadingMain />\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AASO,MAAM,gBAAgB;AAAA,EACzB,OAAO;AAAA,EACP,aAAa;AACjB;AAEA,MAAM,aAAa,MAAM,KAAK,MAAM,OAAO,6BAAc,CAAC;AAEnD,SAAS,OAAO;AACnB,QAAM,CAAC,YAAY,IAAI,IAAI,oBAAoB;AAE/C,QAAM,CAAC,WAAW,YAAY,IAAI,SAA6B,IAAI;AAEnE,YAAU,MAAM;AACZ,QAAI,MAAM;AACF,UAAA;AACA,SAAC,YAAY;AACT,gBAAM,MAAM,MAAM,MAAM,GAAG,oBAAoB,6BAAM,QAAQ;AACvD,gBAAA,OAAO,MAAM,IAAI;AAEvB,uBAAa,KAAK,SAAS;AAAA,QAAA;eAE1B;AACL,gBAAQ,MAAM,GAAG;AAAA,MACrB;AAAA,IACJ;AAAA,EAAA,GACD,CAAC,IAAI,CAAC;AAEF,SAAA,cAAc,OAEb,qBAAA,UAAA,EAAA,UAAA;AAAA,IAAC,oBAAA,QAAA,EAAO,OAAM,UAAU,CAAA;AAAA,IACvB,oBAAA,MAAM,UAAN,EAAe,UAAU,oBAAC,aAAY,CAAA,CAAA,GACnC,UAAC,oBAAA,YAAA,EAAW,UAAU,MAAM,UAAsB,CAAA,GACtD;AAAA,IACA,oBAAC,UAAO,YAAwB;AAAA,IAChC,oBAAC,YAAW,EAAA,UAAU,KAAM,CAAA;AAAA,EAChC,EAAA,CAAA,wBAEC,aAAY,CAAA,CAAA;AAErB;"}