{"version":3,"file":"pages_community_edit_index-page.mjs","sources":["../../../pages/community/edit/index.page.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useAppDispatch } from '../../../renderer/store/hooks';\r\nimport { TopBar } from '../../../components/topBar/topBar';\r\nimport { Create } from '../create/component/Create';\r\nimport { API_URL } from '../../../renderer/CONSTANT_URL';\r\nimport { EDIT_MODE, SET_POST_ID } from '../../../renderer/_reducers/_slices/postSlice';\r\nimport type { PageContext } from '../../../renderer/types';\r\nimport type { Post } from '../../../server/models/Post';\r\n\r\nexport const documentProps = {\r\n    title: '게시글 수정 | Green Maps',\r\n    description: '게시글 수정 페이지',\r\n};\r\n\r\nexport { Page };\r\n\r\nfunction Page(pageContext: PageContext) {\r\n    const dispatch = useAppDispatch();\r\n\r\n    const { postId } = pageContext.routeParams as any;\r\n    const [postInfo, setPostInfo] = useState<Post | null>(null);\r\n\r\n    const [window, setWindow] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (typeof window !== 'undefined') {\r\n            setWindow(true);\r\n        }\r\n\r\n        (async () => {\r\n            const res = await fetch(`${API_URL}/posts/${postId}`);\r\n            const data = await res.json();\r\n            setPostInfo(data);\r\n        })();\r\n\r\n        dispatch(EDIT_MODE(true));\r\n        dispatch(SET_POST_ID(postId));\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <TopBar title=\"글 수정\" />\r\n            {window && <Create postInfo={postInfo} />}\r\n        </>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;AASO,MAAM,gBAAgB;AAAA,EACzB,OAAO;AAAA,EACP,aAAa;AACjB;AAIA,SAAS,KAAK,aAA0B;AACpC,QAAM,WAAW;AAEX,QAAA,EAAE,OAAO,IAAI,YAAY;AAC/B,QAAM,CAAC,UAAU,WAAW,IAAI,SAAsB,IAAI;AAE1D,QAAM,CAAC,QAAQ,SAAS,IAAI,SAAS,KAAK;AAE1C,YAAU,MAAM;AACR,QAAA,OAAO,WAAW,aAAa;AAC/B,gBAAU,IAAI;AAAA,IAClB;AAEA,KAAC,YAAY;AACT,YAAM,MAAM,MAAM,MAAM,GAAG,iBAAiB,QAAQ;AAC9C,YAAA,OAAO,MAAM,IAAI;AACvB,kBAAY,IAAI;AAAA,IAAA;AAGX,aAAA,UAAU,IAAI,CAAC;AACf,aAAA,YAAY,MAAM,CAAC;AAAA,EAChC,GAAG,CAAE,CAAA;AAEL,SAEQ,qBAAA,UAAA,EAAA,UAAA;AAAA,IAAC,oBAAA,QAAA,EAAO,OAAM,OAAO,CAAA;AAAA,IACpB,UAAW,oBAAA,QAAA,EAAO,SAAoB,CAAA;AAAA,EAC3C,EAAA,CAAA;AAER;"}