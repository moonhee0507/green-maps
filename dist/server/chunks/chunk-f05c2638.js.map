{"version":3,"file":"chunk-f05c2638.js","sources":["../../../pages/community/component/CommunityDetail/SubjectBox.tsx"],"sourcesContent":["import React, { ChangeEvent, useEffect, useState } from 'react';\r\nimport { useAppDispatch, useAppSelector } from '../../../../renderer/store/hooks';\r\nimport { useCheckLoginStatus } from '../../../../renderer/_hooks/useCheckLoginStatus';\r\nimport type { Post } from '../../../../server/models/Post';\r\n\r\nexport { SubjectBox };\r\n\r\nfunction SubjectBox({ postInfo }: { postInfo?: Post | null }) {\r\n    const dispatch = useAppDispatch();\r\n\r\n    const [isAdmin, setIsAdmin] = useState(false);\r\n    const [currentPath, setCurrentPath] = useState<string>('');\r\n    const editMode = useAppSelector((state) => state.postSlice.editMode);\r\n    const subject = useAppSelector((state) => state.postSlice.SUBJECT);\r\n    const [isFocused, setIsFocused] = useState(false);\r\n\r\n    const [_, userInfo] = useCheckLoginStatus();\r\n    useEffect(() => {\r\n        setCurrentPath(window.location.pathname);\r\n        if (userInfo !== null) {\r\n            setIsAdmin(userInfo.role === 9);\r\n        } else setIsAdmin(false);\r\n    }, [userInfo]);\r\n\r\n    useEffect(() => {\r\n        if (postInfo !== null && postInfo !== undefined) {\r\n            dispatch({ type: 'postSlice/SUBJECT_STATE', SUBJECT: postInfo.subject });\r\n        } else {\r\n            dispatch({ type: 'postSlice/SUBJECT_STATE', SUBJECT: '' });\r\n        }\r\n    }, [postInfo]);\r\n\r\n    function handleChange(event: ChangeEvent<HTMLSelectElement>) {\r\n        dispatch({ type: 'postSlice/SUBJECT_STATE', SUBJECT: event.target.value });\r\n\r\n        // ÎßêÎ®∏Î¶¨ Î≥ÄÍ≤Ω Ïãú ÌòÑÏû¨ ÌéòÏù¥ÏßÄ Ï¥àÍ∏∞Ìôî\r\n        dispatch({\r\n            type: 'postSlice/POST_IN_PAGE',\r\n            TOTAL: 0, // ÏµúÏÉÅÎã®ÏóêÏÑú ÏµúÏ¢Ö Í≤∞Ï†ïÎê®\r\n            CURRENT_PAGE: 1,\r\n        });\r\n\r\n        return event.target.value;\r\n    }\r\n\r\n    const handleFocus = () => {\r\n        setIsFocused(true);\r\n    };\r\n\r\n    const handleBlur = () => {\r\n        setIsFocused(false);\r\n    };\r\n\r\n    return (\r\n        <div\r\n            className={`${currentPath === '/community' ? 'wrapper-subject' : 'wrapper-subject create'} ${\r\n                isFocused ? 'on' : ''\r\n            }`}\r\n        >\r\n            <label htmlFor=\"selectSubject\" className={currentPath === '/community' ? '' : 'sr-only'}>\r\n                ÎßêÎ®∏Î¶¨\r\n            </label>\r\n            <select\r\n                name=\"subjects\"\r\n                id=\"selectSubject\"\r\n                onChange={handleChange}\r\n                value={subject}\r\n                onFocus={handleFocus}\r\n                onBlur={handleBlur}\r\n            >\r\n                <option value=\"\">{currentPath === '/community' ? '-- Ï†ÑÏ≤¥ --' : 'ÎßêÎ®∏Î¶¨ ÏÑ†ÌÉù'}</option>\r\n                {currentPath === '/community/create' && isAdmin ? <option value=\"Í≥µÏßÄÏÇ¨Ìï≠\">Í≥µÏßÄÏÇ¨Ìï≠</option> : null}\r\n                <option value=\"ü•ëÏ±ÑÏãùÏñòÍ∏∞\">ü•ëÏ±ÑÏãùÏñòÍ∏∞</option>\r\n                <option value=\"‚öΩÏö¥ÎèôÏñòÍ∏∞\">‚öΩÏö¥ÎèôÏñòÍ∏∞</option>\r\n            </select>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;AAOA,SAAS,WAAW,EAAE,YAAwC;AAC1D,QAAM,WAAW;AAEjB,QAAM,CAAC,SAAS,UAAU,IAAI,SAAS,KAAK;AAC5C,QAAM,CAAC,aAAa,cAAc,IAAI,SAAiB,EAAE;AACxC,iBAAe,CAAC,UAAU,MAAM,UAAU,QAAQ;AACnE,QAAM,UAAU,eAAe,CAAC,UAAU,MAAM,UAAU,OAAO;AACjE,QAAM,CAAC,WAAW,YAAY,IAAI,SAAS,KAAK;AAEhD,QAAM,CAAC,GAAG,QAAQ,IAAI,oBAAoB;AAC1C,YAAU,MAAM;AACG,mBAAA,OAAO,SAAS,QAAQ;AACvC,QAAI,aAAa,MAAM;AACR,iBAAA,SAAS,SAAS,CAAC;AAAA,IAClC;AAAO,iBAAW,KAAK;AAAA,EAAA,GACxB,CAAC,QAAQ,CAAC;AAEb,YAAU,MAAM;AACR,QAAA,aAAa,QAAQ,aAAa,QAAW;AAC7C,eAAS,EAAE,MAAM,2BAA2B,SAAS,SAAS,SAAS;AAAA,IAAA,OACpE;AACH,eAAS,EAAE,MAAM,2BAA2B,SAAS,GAAI,CAAA;AAAA,IAC7D;AAAA,EAAA,GACD,CAAC,QAAQ,CAAC;AAEb,WAAS,aAAa,OAAuC;AACzD,aAAS,EAAE,MAAM,2BAA2B,SAAS,MAAM,OAAO,OAAO;AAGhE,aAAA;AAAA,MACL,MAAM;AAAA,MACN,OAAO;AAAA;AAAA,MACP,cAAc;AAAA,IAAA,CACjB;AAED,WAAO,MAAM,OAAO;AAAA,EACxB;AAEA,QAAM,cAAc,MAAM;AACtB,iBAAa,IAAI;AAAA,EAAA;AAGrB,QAAM,aAAa,MAAM;AACrB,iBAAa,KAAK;AAAA,EAAA;AAIlB,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACG,WAAW,GAAG,gBAAgB,eAAe,oBAAoB,4BAC7D,YAAY,OAAO;AAAA,MAGvB,UAAA;AAAA,QAAC,oBAAA,SAAA,EAAM,SAAQ,iBAAgB,WAAW,gBAAgB,eAAe,KAAK,WAAW,UAEzF,MAAA,CAAA;AAAA,QACA;AAAA,UAAC;AAAA,UAAA;AAAA,YACG,MAAK;AAAA,YACL,IAAG;AAAA,YACH,UAAU;AAAA,YACV,OAAO;AAAA,YACP,SAAS;AAAA,YACT,QAAQ;AAAA,YAER,UAAA;AAAA,cAAA,oBAAC,YAAO,OAAM,IAAI,UAAgB,gBAAA,eAAe,aAAa,UAAS;AAAA,cACtE,gBAAgB,uBAAuB,UAAU,oBAAC,YAAO,OAAM,QAAO,kBAAI,IAAY;AAAA,cACtF,oBAAA,UAAA,EAAO,OAAM,UAAS,UAAM,UAAA;AAAA,cAC5B,oBAAA,UAAA,EAAO,OAAM,SAAQ,UAAK,SAAA;AAAA,YAAA;AAAA,UAAA;AAAA,QAC/B;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGZ;"}