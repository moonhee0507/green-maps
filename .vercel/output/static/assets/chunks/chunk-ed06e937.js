import{r as t,j as s}from"./chunk-0ad0329c.js";import{u as j,a as r,A as E}from"./chunk-3185794e.js";function A({postInfo:c}){const a=j(),[i,n]=t.useState(!1),[o,p]=t.useState("");r(e=>e.postSlice.editMode);const S=r(e=>e.postSlice.SUBJECT),[d,u]=t.useState(!1);t.useEffect(()=>{(async()=>{const l=await(await fetch(`${E}/users`)).json();l.success?n(l.user.role===9):n(!1)})()},[]),t.useEffect(()=>{p(window.location.pathname),c!=null?a({type:"postSlice/SUBJECT_STATE",SUBJECT:c.subject}):a({type:"postSlice/SUBJECT_STATE",SUBJECT:""})},[c]);function m(e){return a({type:"postSlice/SUBJECT_STATE",SUBJECT:e.target.value}),a({type:"postSlice/POST_IN_PAGE",TOTAL:0,CURRENT_PAGE:1}),console.log("event.currentTarget.focus",e.currentTarget.focus),e.target.value}const h=()=>{u(!0)},T=()=>{u(!1)};return s.jsxs("div",{className:`${o==="/community"?"wrapper-subject":"wrapper-subject create"} ${d?"on":""}`,children:[s.jsx("label",{htmlFor:"selectSubject",className:o==="/community"?"":"sr-only",children:"말머리"}),s.jsxs("select",{name:"subjects",id:"selectSubject",onChange:m,value:S,onFocus:h,onBlur:T,children:[s.jsx("option",{value:"",children:o==="/community"?"-- 전체 --":"말머리 선택"}),o==="/community/create"&&i?s.jsx("option",{value:"공지사항",children:"공지사항"}):null,s.jsx("option",{value:"🥑채식얘기",children:"🥑채식얘기"}),s.jsx("option",{value:"⚽운동얘기",children:"⚽운동얘기"})]})]})}export{A as S};
